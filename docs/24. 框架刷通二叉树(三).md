## 返回二叉树的重复子树
```
给定一颗二叉树，返回所有重复子树。对于同一类重复子树，返回任一结点即可。
```
分析：
如何判断以自己为根的节点与其他节点相同？
1. 可以采用记录以当前节点为根的序列化字符串，在判断以其他节点为根的序列化字符串是否与已经存在序列化字符串相同，如果相同则表示存在相同子树，用于记录的`map`计数器值`>=1`;
2. 因为不能重复，所以只选`map`的值等于`1`的部分。
3. 对序列化方法的选择，采用后序遍历的方式，构成的字符串为`left+right+root`.

```cpp
class Solution {
public:
  std::vector<TreeNode *> findDuplicateSubtrees(TreeNode *root) {
    traverse(root);

    return res;
  }

private:
  std::string traverse(TreeNode *root) {
    if (root == nullptr) {
      return "#";
    }

    std::string left  = traverse(root->left);
    std::string right = traverse(root->right);

    std::string str = left + "," + right + "," + std::to_string(root->val);
    if (treemap[str] == 1) {
      res.push_back(root);
    }
    treemap[str]++;

    return str;
  }

  std::unordered_map<std::string, int> treemap;
  std::vector<TreeNode *>              res;
};
```

